{"version":3,"file":"js/650.cc90fd28.js","mappings":"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","sources":["webpack://supermall/./src/views/shopcart/ShopcartRouter.vue","webpack://supermall/./src/views/shopcart/childComps/CartList.vue","webpack://supermall/./src/views/shopcart/childComps/CartListItem.vue","webpack://supermall/./src/components/content/checkButton/CheckButton.vue","webpack://supermall/src/components/content/checkButton/CheckButton.vue","webpack://supermall/./src/components/content/checkButton/CheckButton.vue?8889","webpack://supermall/./src/components/content/checkButton/CheckButton.vue?f656","webpack://supermall/src/views/shopcart/childComps/CartListItem.vue","webpack://supermall/./src/views/shopcart/childComps/CartListItem.vue?a957","webpack://supermall/./src/views/shopcart/childComps/CartListItem.vue?bf60","webpack://supermall/src/views/shopcart/childComps/CartList.vue","webpack://supermall/./src/views/shopcart/childComps/CartList.vue?b7fd","webpack://supermall/./src/views/shopcart/childComps/CartList.vue?e763","webpack://supermall/./src/views/shopcart/childComps/CartBottomBar.vue","webpack://supermall/src/views/shopcart/childComps/CartBottomBar.vue","webpack://supermall/./src/views/shopcart/childComps/CartBottomBar.vue?5792","webpack://supermall/./src/views/shopcart/childComps/CartBottomBar.vue?8101","webpack://supermall/src/views/shopcart/ShopcartRouter.vue","webpack://supermall/./src/views/shopcart/ShopcartRouter.vue?b6e3","webpack://supermall/./src/views/shopcart/ShopcartRouter.vue?4348"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"cart\"},[_c('NavBar',{staticClass:\"nav-bar\"},[_c('div',{attrs:{\"slot\":\"center\"},slot:\"center\"},[_vm._v(\"购物车(\"+_vm._s(_vm.cartLength)+\")\")])]),_c('CartList'),_c('CartBottomBar')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"cart-list\"},[_c('ScrollRouter',{ref:\"scroll\",staticClass:\"content\"},_vm._l((_vm.cartList),function(item){return _c('CartListItem',{key:item.iid,attrs:{\"product\":item}})}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"shop-item\"}},[_c('div',{staticClass:\"item-selector\"},[_c('CheckButton',{attrs:{\"isChecked\":_vm.product.checked},nativeOn:{\"click\":function($event){return _vm.checkClick.apply(null, arguments)}}})],1),_c('div',{staticClass:\"item-img\"},[_c('img',{attrs:{\"src\":_vm.product.image,\"alt\":\"商品图片\"}})]),_c('div',{staticClass:\"item-info\"},[_c('div',{staticClass:\"item-title\"},[_vm._v(_vm._s(_vm.product.title))]),_c('div',{staticClass:\"item-desc\"},[_vm._v(_vm._s(_vm.product.desc))]),_c('div',{staticClass:\"info-center\"},[_c('div',{staticClass:\"item-price left\"},[_vm._v(\"¥\"+_vm._s(_vm.product.price))]),_c('div',{staticClass:\"item-count right\"},[_c('button',{staticClass:\"button\",on:{\"click\":_vm.decrement}},[_vm._v(\"-\")]),_vm._v(\" \"+_vm._s(_vm.product.count)+\" \"),_c('button',{staticClass:\"button\",on:{\"click\":_vm.increment}},[_vm._v(\"+\")])])]),_c('div',{staticClass:\"info-bottom\"},[_c('button',{staticClass:\"detail-button\",on:{\"click\":_vm.clickDetail}},[_vm._v(\"详情\")]),_c('button',{staticClass:\"delete-button\",on:{\"click\":_vm.clickDelete}},[_vm._v(\"移除\")])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"check-button\",class:{ check: _vm.isChecked }},[_c('img',{attrs:{\"src\":require(\"assets/img/cart/tick.svg\"),\"alt\":\"\"}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"check-button\" :class=\"{ check: isChecked }\">\r\n    <img src=\"~assets/img/cart/tick.svg\" alt=\"\" />\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'CheckButton',\r\n  props: {\r\n    isChecked: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.check-button {\r\n  border-radius: 50%;\r\n  border: 2px solid #aaa;\r\n}\r\n.check {\r\n  border-color: var(--color-tint);\r\n  background-color: var(--color-tint);\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CheckButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CheckButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CheckButton.vue?vue&type=template&id=d1d66a62&scoped=true&\"\nimport script from \"./CheckButton.vue?vue&type=script&lang=js&\"\nexport * from \"./CheckButton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CheckButton.vue?vue&type=style&index=0&id=d1d66a62&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d1d66a62\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div id=\"shop-item\">\r\n    <div class=\"item-selector\">\r\n      <CheckButton :isChecked=\"product.checked\" @click.native=\"checkClick\" />\r\n    </div>\r\n    <div class=\"item-img\">\r\n      <img :src=\"product.image\" alt=\"商品图片\" />\r\n    </div>\r\n    <div class=\"item-info\">\r\n      <div class=\"item-title\">{{ product.title }}</div>\r\n      <div class=\"item-desc\">{{ product.desc }}</div>\r\n      <div class=\"info-center\">\r\n        <div class=\"item-price left\">¥{{ product.price }}</div>\r\n        <div class=\"item-count right\">\r\n          <button class=\"button\" @click=\"decrement\">-</button>\r\n          {{ product.count }}\r\n          <button class=\"button\" @click=\"increment\">+</button>\r\n        </div>\r\n      </div>\r\n      <div class=\"info-bottom\">\r\n        <button class=\"detail-button\" @click=\"clickDetail\">详情</button>\r\n        <button class=\"delete-button\" @click=\"clickDelete\">移除</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport CheckButton from 'components/content/checkButton/CheckButton';\r\nimport { mapMutations } from 'vuex';\r\nexport default {\r\n  name: 'CartListItem',\r\n  components: { CheckButton },\r\n  props: {\r\n    product: {\r\n      type: Object,\r\n      default: () => {},\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapMutations([\r\n      'changeChecked',\r\n      'Increment',\r\n      'Decrement',\r\n      'deleteProduct',\r\n    ]),\r\n    // 勾选或取消勾选\r\n    checkClick() {\r\n      this.changeChecked(this.product);\r\n    },\r\n    // 删除商品\r\n    clickDelete() {\r\n      if (confirm('是否要移除这个商品')) this.deleteProduct(this.product);\r\n    },\r\n    // 增加数量\r\n    increment() {\r\n      this.Increment(this.product);\r\n    },\r\n    // 减少数量\r\n    decrement() {\r\n      if (this.product.count === 1) {\r\n        this.$toast.show('购买量不得少于一件');\r\n        return;\r\n      }\r\n      this.Decrement(this.product);\r\n    },\r\n    // 点击详情跳转到商品详情页\r\n    clickDetail() {\r\n      this.$router.replace('/detail/' + this.product.iid);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n#shop-item {\r\n  width: 100%;\r\n  height: 150px;\r\n  display: flex;\r\n  padding: 5px;\r\n  border-bottom: 1px solid #ccc;\r\n}\r\n\r\n.item-selector {\r\n  width: 20px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.item-title,\r\n.item-desc {\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.item-img {\r\n  padding: 5px;\r\n  /*border: 1px solid #ccc;*/\r\n}\r\n\r\n.item-img img {\r\n  width: 80px;\r\n  height: 100px;\r\n  display: block;\r\n  border-radius: 5px;\r\n}\r\n\r\n.item-info {\r\n  font-size: 17px;\r\n  color: #333;\r\n  padding: 5px 10px;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.item-desc {\r\n  font-size: 14px;\r\n  color: #666;\r\n  margin-top: 15px;\r\n}\r\n.info-center {\r\n  bottom: 45px;\r\n}\r\n.info-bottom {\r\n  bottom: 5px;\r\n  display: flex;\r\n}\r\n\r\n.info-center,\r\n.info-bottom {\r\n  margin-top: 10px;\r\n  position: absolute;\r\n  left: 10px;\r\n  right: 10px;\r\n}\r\n\r\n.item-price {\r\n  color: orangered;\r\n  margin-right: 10px;\r\n}\r\n.button {\r\n  width: 20px;\r\n}\r\n.detail-button,\r\n.delete-button {\r\n  flex: 1;\r\n  width: 40px;\r\n  height: 30px;\r\n  line-height: 30px;\r\n  font-size: 14px;\r\n  color: #fff;\r\n  background-color: var(--color-tint);\r\n  border: 0;\r\n}\r\n.delete-button {\r\n  background-color: red;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CartListItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CartListItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CartListItem.vue?vue&type=template&id=7b5ad4a2&scoped=true&\"\nimport script from \"./CartListItem.vue?vue&type=script&lang=js&\"\nexport * from \"./CartListItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CartListItem.vue?vue&type=style&index=0&id=7b5ad4a2&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b5ad4a2\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"cart-list\">\r\n    <ScrollRouter class=\"content\" ref=\"scroll\">\r\n      <CartListItem v-for=\"item of cartList\" :key=\"item.iid\" :product=\"item\" />\r\n    </ScrollRouter>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapGetters } from 'vuex';\r\n\r\n// 引入封装好的滚动组件\r\nimport ScrollRouter from 'components/common/scroll/ScrollRouter';\r\nimport CartListItem from './CartListItem.vue';\r\n\r\nexport default {\r\n  name: 'CartList',\r\n  components: {\r\n    ScrollRouter,\r\n    CartListItem,\r\n  },\r\n  computed: {\r\n    ...mapGetters(['cartList']),\r\n  },\r\n  activated() {\r\n    // 在重新进入购物车界面的时候刷新可滚动区域的高度，避免用户新添加商品后，高度刷新不及时而导致卡顿\r\n    this.$refs.scroll.refresh();\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.cart-list {\r\n  height: calc(100vh - 44px - 49px - 40px);\r\n}\r\n.content {\r\n  height: 100%;\r\n  overflow: hidden;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CartList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CartList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CartList.vue?vue&type=template&id=6dd5192a&scoped=true&\"\nimport script from \"./CartList.vue?vue&type=script&lang=js&\"\nexport * from \"./CartList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CartList.vue?vue&type=style&index=0&id=6dd5192a&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6dd5192a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"bottom-bar\"},[_c('div',{staticClass:\"check-content\",on:{\"click\":_vm.checkClick}},[_c('CheckButton',{staticClass:\"check-button\",attrs:{\"is-checked\":_vm.isSelectAll}}),_c('span',[_vm._v(\"全选\")])],1),_c('div',{staticClass:\"price\"},[_vm._v(\"合计:\"+_vm._s(_vm.totalPrice))]),_c('div',{staticClass:\"calculate\",on:{\"click\":_vm.calcClick}},[_vm._v(\"去结算(\"+_vm._s(_vm.checkedLength)+\")\")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"bottom-bar\">\r\n    <div class=\"check-content\" @click=\"checkClick\">\r\n      <CheckButton class=\"check-button\" :is-checked=\"isSelectAll\" />\r\n      <span>全选</span>\r\n    </div>\r\n    <div class=\"price\">合计:{{ totalPrice }}</div>\r\n    <div class=\"calculate\" @click=\"calcClick\">去结算({{ checkedLength }})</div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport CheckButton from 'components/content/checkButton/CheckButton';\r\nimport { mapGetters } from 'vuex';\r\n\r\nexport default {\r\n  name: 'CartBottomBar',\r\n  components: {\r\n    CheckButton,\r\n  },\r\n  methods: {\r\n    checkClick() {\r\n      // 先判断再遍历\r\n      if (this.isSelectAll) {\r\n        // 全部选中的时候点击,遍历数组，checked属性全部改为false\r\n        this.cartList.forEach((item) => (item.checked = false));\r\n      } else {\r\n        // 没有全部选中\r\n        this.cartList.forEach((item) => (item.checked = true));\r\n      }\r\n\r\n      /* // 遍历然后将所有的元素的checked属性改变(点击就是要改变全选的状态)，这里不可以，因为两个位置在互相影响，结果会混乱\r\n      this.cartList.forEach((item) => {\r\n        item.checked = !this.isSelectAll;\r\n      }); */\r\n    },\r\n    calcClick() {\r\n      if (!this.cartList.find((item) => item.checked)) {\r\n        // 没有选择任何商品的时候弹窗\r\n        this.$toast.show('请选择需要购买的商品', 2000);\r\n      } else {\r\n        this.$toast.show(`当前商品总价格为${this.totalPrice}￥`);\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapGetters(['cartList']),\r\n    totalPrice() {\r\n      return (\r\n        '￥' +\r\n        this.cartList\r\n          .filter((item) => {\r\n            // 过滤掉没有选中的商品\r\n            return item.checked;\r\n          })\r\n          .reduce((pre, Item) => {\r\n            // 计算总价\r\n            return pre + Item.count * Item.price;\r\n          }, 0)\r\n          .toFixed(2)\r\n      );\r\n    },\r\n    checkedLength() {\r\n      return this.cartList.filter((item) => item.checked).length;\r\n    },\r\n    isSelectAll() {\r\n      // 购物车没有商品的时候应该是不选的\r\n      if (this.cartList.length === 0) return false;\r\n      // 过滤出cartList中checked属性为false的元素，判断它的长度是否为0，为0则全选\r\n      // return !this.cartList.filter((item) => !item.checked).length;// 性能不太好，会全部遍历\r\n\r\n      // find 返回第一个符合条件的元素，有就不全选\r\n      return !this.cartList.find((item) => !item.checked);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.bottom-bar {\r\n  position: relative;\r\n  display: flex;\r\n  height: 40px;\r\n  line-height: 40px;\r\n  background-color: #eee;\r\n}\r\n.check-content {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-left: 10px;\r\n  width: 60px;\r\n}\r\n.check-button {\r\n  width: 20px;\r\n  height: 20px;\r\n  line-height: 20px;\r\n  margin-right: 5px;\r\n}\r\n.price {\r\n  margin-left: 20px;\r\n  flex: 1;\r\n}\r\n.calculate {\r\n  width: 100px;\r\n  text-align: center;\r\n  color: #fff;\r\n  background-color: var(--color-tint);\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CartBottomBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CartBottomBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CartBottomBar.vue?vue&type=template&id=50577140&scoped=true&\"\nimport script from \"./CartBottomBar.vue?vue&type=script&lang=js&\"\nexport * from \"./CartBottomBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CartBottomBar.vue?vue&type=style&index=0&id=50577140&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"50577140\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"cart\">\r\n    <!-- 导航 -->\r\n    <NavBar class=\"nav-bar\">\r\n      <div slot=\"center\">购物车({{ cartLength }})</div>\r\n    </NavBar>\r\n\r\n    <!-- 商品的列表 -->\r\n    <CartList />\r\n    <!-- 底部的汇总 -->\r\n    <CartBottomBar />\r\n  </div>\r\n</template>\r\n<script>\r\nimport NavBar from 'components/common/navbar/NavBar';\r\nimport CartList from './childComps/CartList';\r\nimport CartBottomBar from './childComps/CartBottomBar';\r\n\r\nimport { mapGetters } from 'vuex';\r\nexport default {\r\n  name: 'ShopcartRouter',\r\n  components: {\r\n    NavBar,\r\n    CartList,\r\n    CartBottomBar,\r\n  },\r\n  computed: {\r\n    // 用map\r\n    ...mapGetters(['cartLength']),\r\n    /*  cartLength() {// 自己去导入\r\n      return this.$store.getters.cartLength;\r\n    }, */\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.cart {\r\n  height: 100vh;\r\n}\r\n.nav-bar {\r\n  background-color: var(--color-tint);\r\n  color: #fff;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ShopcartRouter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ShopcartRouter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ShopcartRouter.vue?vue&type=template&id=d696e666&scoped=true&\"\nimport script from \"./ShopcartRouter.vue?vue&type=script&lang=js&\"\nexport * from \"./ShopcartRouter.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ShopcartRouter.vue?vue&type=style&index=0&id=d696e666&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d696e666\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","slot","_v","_s","cartLength","staticRenderFns","ref","_l","cartList","item","key","iid","product","checked","nativeOn","$event","checkClick","apply","arguments","image","title","desc","price","on","decrement","count","increment","clickDetail","clickDelete","class","check","isChecked","require","name","props","type","default","component","components","CheckButton","methods","ScrollRouter","CartListItem","computed","activated","isSelectAll","totalPrice","calcClick","checkedLength","filter","reduce","toFixed","NavBar","CartList","CartBottomBar"],"sourceRoot":""}