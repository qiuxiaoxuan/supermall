"use strict";(self["webpackChunksupermall"]=self["webpackChunksupermall"]||[]).push([[650],{1122:function(t,c,e){e.r(c),e.d(c,{default:function(){return E}});var s=function(){var t=this,c=t._self._c;return c("div",{staticClass:"cart"},[c("NavBar",{staticClass:"nav-bar"},[c("div",{attrs:{slot:"center"},slot:"center"},[t._v("购物车("+t._s(t.cartLength)+")")])]),c("CartList"),c("CartBottomBar")],1)},i=[],a=e(5957),r=function(){var t=this,c=t._self._c;return c("div",{staticClass:"cart-list"},[c("ScrollRouter",{ref:"scroll",staticClass:"content"},t._l(t.cartList,(function(t){return c("CartListItem",{key:t.iid,attrs:{product:t}})})),1)],1)},l=[],n=e(3822),o=e(4780),u=function(){var t=this,c=t._self._c;return c("div",{attrs:{id:"shop-item"}},[c("div",{staticClass:"item-selector"},[c("CheckButton",{attrs:{isChecked:t.product.checked},nativeOn:{click:function(c){return t.checkClick.apply(null,arguments)}}})],1),c("div",{staticClass:"item-img"},[c("img",{attrs:{src:t.product.image,alt:"商品图片"}})]),c("div",{staticClass:"item-info"},[c("div",{staticClass:"item-title"},[t._v(t._s(t.product.title))]),c("div",{staticClass:"item-desc"},[t._v(t._s(t.product.desc))]),c("div",{staticClass:"info-center"},[c("div",{staticClass:"item-price left"},[t._v("¥"+t._s(t.product.price))]),c("div",{staticClass:"item-count right"},[c("button",{staticClass:"button",on:{click:t.decrement}},[t._v("-")]),t._v(" "+t._s(t.product.count)+" "),c("button",{staticClass:"button",on:{click:t.increment}},[t._v("+")])])]),c("div",{staticClass:"info-bottom"},[c("button",{staticClass:"detail-button",on:{click:t.clickDetail}},[t._v("详情")]),c("button",{staticClass:"delete-button",on:{click:t.clickDelete}},[t._v("移除")])])])])},d=[],h=function(){var t=this,c=t._self._c;return c("div",{staticClass:"check-button",class:{check:t.isChecked}},[c("img",{attrs:{src:e(3476),alt:""}})])},k=[],C={name:"CheckButton",props:{isChecked:{type:Boolean,default:!1}}},p=C,m=e(1001),v=(0,m.Z)(p,h,k,!1,null,"d1d66a62",null),f=v.exports,_={name:"CartListItem",components:{CheckButton:f},props:{product:{type:Object,default:()=>{}}},methods:{...(0,n.OI)(["changeChecked","Increment","Decrement","deleteProduct"]),checkClick(){this.changeChecked(this.product)},clickDelete(){confirm("是否要移除这个商品")&&this.deleteProduct(this.product)},increment(){this.Increment(this.product)},decrement(){1!==this.product.count?this.Decrement(this.product):this.$toast.show("购买量不得少于一件")},clickDetail(){this.$router.replace("/detail/"+this.product.iid)}}},L=_,b=(0,m.Z)(L,u,d,!1,null,"7b5ad4a2",null),g=b.exports,B={name:"CartList",components:{ScrollRouter:o.Z,CartListItem:g},computed:{...(0,n.Se)(["cartList"])},activated(){this.$refs.scroll.refresh()}},S=B,x=(0,m.Z)(S,r,l,!1,null,"6dd5192a",null),Z=x.exports,D=function(){var t=this,c=t._self._c;return c("div",{staticClass:"bottom-bar"},[c("div",{staticClass:"check-content",on:{click:t.checkClick}},[c("CheckButton",{staticClass:"check-button",attrs:{"is-checked":t.isSelectAll}}),c("span",[t._v("全选")])],1),c("div",{staticClass:"price"},[t._v("合计:"+t._s(t.totalPrice))]),c("div",{staticClass:"calculate",on:{click:t.calcClick}},[t._v("去结算("+t._s(t.checkedLength)+")")])])},I=[],$={name:"CartBottomBar",components:{CheckButton:f},methods:{checkClick(){this.isSelectAll?this.cartList.forEach((t=>t.checked=!1)):this.cartList.forEach((t=>t.checked=!0))},calcClick(){this.cartList.find((t=>t.checked))?this.$toast.show(`当前商品总价格为${this.totalPrice}￥`):this.$toast.show("请选择需要购买的商品",2e3)}},computed:{...(0,n.Se)(["cartList"]),totalPrice(){return"￥"+this.cartList.filter((t=>t.checked)).reduce(((t,c)=>t+c.count*c.price),0).toFixed(2)},checkedLength(){return this.cartList.filter((t=>t.checked)).length},isSelectAll(){return 0!==this.cartList.length&&!this.cartList.find((t=>!t.checked))}}},w=$,P=(0,m.Z)(w,D,I,!1,null,"50577140",null),y=P.exports,A={name:"ShopcartRouter",components:{NavBar:a.Z,CartList:Z,CartBottomBar:y},computed:{...(0,n.Se)(["cartLength"])}},O=A,R=(0,m.Z)(O,s,i,!1,null,"d696e666",null),E=R.exports},3476:function(t,c,e){t.exports=e.p+"img/tick.82dd6e3a.svg"}}]);
//# sourceMappingURL=650.cc90fd28.js.map